function initLangSelector(onChangeCallback){document.querySelectorAll('input[name="lang"]').forEach(radio=>{radio.addEventListener('change',()=>{const selectedLang=document.querySelector('input[name="lang"]:checked').value;document.querySelectorAll('.cp_link').forEach(link=>{const newHref=link.getAttribute(`data-${selectedLang}`);const newText=link.getAttribute(`data-text-${selectedLang}`);if(newHref)link.setAttribute('href',newHref);if(newText)link.textContent=newText;});document.querySelectorAll('[data-text-tw], [data-text-jp]').forEach(elem=>{const newText=elem.getAttribute(`data-text-${selectedLang}`);if(newText)elem.textContent=newText;});if(typeof onChangeCallback==='function'){onChangeCallback(selectedLang);}});});}
window.addEventListener('DOMContentLoaded',()=>{initLangSelector();});